# 🧠 思维导图生成器

## 功能概述

智能思维导图生成器是一个基于AI的思维导图创建工具，能够根据用户输入的主题和内容自动生成结构化的思维导图，支持多种主题风格和布局方式。

## 🚀 快速开始

### 1. 启动后端服务

```bash
# 进入思维导图目录
cd pages/create_mindmap

# 安装依赖
pip install -r requirements.txt

# 启动服务
python app.py
```

服务将在 `http://localhost:5001` 启动

### 2. 使用前端界面

在浏览器中打开主应用，选择"思维导图"标签页即可使用。

## ✨ 主要功能

### 🎯 智能内容解析
- 自动识别文本层次结构
- 支持缩进和列表标记
- 智能构建节点关系

### 🎨 主题系统
- **默认主题**: 经典蓝白配色
- **商务主题**: 专业绿色配色
- **创意主题**: 紫色创意配色
- **教育主题**: 橙色活力配色
- **科技主题**: 青色科技配色

### 📐 布局算法
- **放射状布局**: 从中心向外发散
- **树状布局**: 自上而下的层次结构
- **水平布局**: 从左到右的排列
- **垂直布局**: 从上到下的排列

### 🖼️ 图像生成
- 高分辨率输出 (1200x800)
- PNG格式支持
- 自定义颜色配置
- 实时预览功能

## 📝 使用说明

### 内容格式要求

```
人工智能概念
  机器学习
    深度学习
    强化学习
  自然语言处理
    机器翻译
    对话系统
  计算机视觉
    图像识别
    目标检测
```

**格式说明：**
- 每行一个概念或要点
- 使用缩进表示层次关系（2个空格或1个Tab）
- 支持列表标记（- * •）

### 操作步骤

1. **输入主题信息**
   - 填写主题标题
   - 添加主题描述
   - 输入核心内容

2. **选择样式**
   - 选择主题风格
   - 选择布局方式
   - 自定义节点和线条颜色

3. **生成思维导图**
   - 点击"生成思维导图"按钮
   - 等待AI处理完成
   - 查看生成的思维导图

4. **导出和分享**
   - 全屏预览
   - 下载PNG图片
   - 分享给他人

## 🔧 API接口

### 生成思维导图
```http
POST /api/mindmap/generate
Content-Type: application/json

{
  "title": "主题标题",
  "description": "主题描述",
  "content": "内容文本",
  "theme": "default",
  "layout": "radial"
}
```

### 下载思维导图
```http
POST /api/mindmap/download
Content-Type: application/json

{
  "title": "主题标题",
  "nodes": [...]
}
```

### 获取主题列表
```http
GET /api/mindmap/themes
```

### 获取布局列表
```http
GET /api/mindmap/layouts
```

### 健康检查
```http
GET /api/mindmap/health
```

## 🛠️ 技术架构

### 前端技术栈
- **React 18**: 现代化的用户界面框架
- **TypeScript**: 类型安全的JavaScript
- **Ant Design**: 企业级UI组件库
- **Canvas API**: 思维导图渲染

### 后端技术栈
- **Python 3.8+**: 核心编程语言
- **Flask**: 轻量级Web框架
- **Pillow (PIL)**: 图像处理库
- **正则表达式**: 内容解析算法

### 核心算法
- **层次结构解析**: 基于缩进的树形结构构建
- **布局算法**: 多种布局方式的坐标计算
- **图像渲染**: 基于PIL的高质量图像生成

## 📁 文件结构

```
pages/create_mindmap/
├── MindMapGenerator.tsx    # React前端组件
├── mindmap_service.py      # 核心服务逻辑
├── app.py                  # Flask API服务
├── requirements.txt        # Python依赖
├── start_service.py        # 启动脚本
├── templates/              # HTML模板
│   └── index.html         # 服务说明页面
└── README.md              # 说明文档
```

## 🚨 注意事项

1. **字体文件**: 系统会自动查找可用的字体文件，如果找不到会使用默认字体
2. **内容长度**: 建议内容不超过1000个字符，以获得最佳效果
3. **浏览器兼容**: 需要支持Canvas API的现代浏览器
4. **图像质量**: 输出为1200x800像素的高质量PNG图片

## 🔍 故障排除

### 常见问题

1. **服务启动失败**
   - 检查Python版本（需要3.8+）
   - 确认依赖已正确安装
   - 检查端口5001是否被占用

2. **图像生成失败**
   - 检查输入内容格式
   - 确认后端服务正常运行
   - 查看控制台错误信息

3. **字体显示异常**
   - 系统会自动降级到默认字体
   - 不影响功能使用

### 日志查看

服务运行时会输出详细的日志信息，包括：
- 请求处理状态
- 错误信息
- 性能统计

## 📞 技术支持

如果遇到问题，请检查：
1. 后端服务是否正常启动
2. 网络连接是否正常
3. 浏览器控制台是否有错误信息
4. 后端日志是否有异常信息

## 🎉 更新日志

### v1.0.0 (2024-01-XX)
- 初始版本发布
- 支持5种主题风格
- 支持4种布局方式
- 完整的API接口
- 响应式用户界面
